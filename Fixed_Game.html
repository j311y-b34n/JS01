<html>
  <head>
    <title>Escape</title>
    <!-- Put a link to a CSS document here-->
  </head>
  <body>
    <script>
        function game() {
          var hasBook = false
          var hasVial = false
          function introduction(){
            var introductionText = "Imagine you wake up as someone throws you into a room. The door slams behind you, and you hear a lock click into place. You have no memory of how you got here. What do you do?";
            var responseIntroduction = prompt(introductionText).toLowerCase();
            if (responseIntroduction === "wait") {
              wait();
            }
            else if (responseIntroduction === "look around") {
              look_around();
            }
            else if (responseIntroduction === "kick the door") {
              var kickDoorText = "You do, and break your toes. You pass out from the pain, and never wake up. Game over."
              alert(kickDoorText);
            }
            else {
              invalid();
              introduction();
            }
          }
          introduction();
          function wait() {
            var waitText = "You wait, and eventually fall asleep. You never wake up. Game over.";
            alert(waitText);
          }
          function look_around() {
            var lookAroundText = "You see the walls and door, made of stone. A bookcase rests in a corner.";
            var responseLookAround = prompt(lookAroundText).toLowerCase();
            if (responseLookAround === "look at door") {
              var lookInvalidText = "You look, but it's made of solid stone. There's no way to break it."
              alert(lookInvalidText);
              look_around();
            }
            else if (responseLookAround === "look at bookcase") {
              look_at_bookcase();
            }
            else {
              invalid();
              look_around();
            }
            function look_at_bookcase() {
              var lookAtBookcaseText = "In the bookcase, there is a vial of water, a book, and some weird-looking colorful plants.";
              var responseLookAtBookcase = prompt(lookAtBookcaseText).toLowerCase();
              if (responseLookAtBookcase === "take book") {
                book();
              }
              else if (responseLookAtBookcase === "take vial") {
                vial();
              }
              else if (responseLookAtBookcase === "take plants") {
                var plantsInvalidText = "You attempt and pick up the plant pots, but they're too heavy."
                alert(plantsInvalidText);
                look_at_bookcase();
              }
            }
            function book() {
              hasBook = true
              if (hasVial === true) {
                book_and_vial();
              }
              var bookTakenText = "You take the book, and flip it open to its first page. As you do, it lights on fire. You only save one page."
              var responseBookFire = prompt(bookTakenText).toLowerCase();
              if (responseBookFire === "take vial") {
                vial();
              }
            }
            function vial() {
              hasVial = true
              if (hasBook === true) {
                book_and_vial();
              }
              var vialTakenText = "Taken. Everything takes on a surreal quality, and objects begin to glow softly, especially the book."
              var vialTakenResponse = prompt(vialTakenText).toLowerCase();
              if (vialTakenResponse === //MORE HERE)
            }
            function book_and_vial() {
              var bothText = "Now that you have both the book and the vial, the page begins to glow. Two images appear on it. Both are of a vial like yours with different plants inside, one labelled Acid, and the other labelled Unsubstantiate. You can attempt making either the Acid or Unsubstantiate. Which do you make?"
              var orResponse = prompt(bothText).toLowerCase();
              if (orResponse === "acid") {
                acid();
              }
              else if (orResponse === "unsubstantiate") {
                unsubstantiate();
              }
            }
            function acid() {
              //STUFF HERE
            }
            function unsubstantiate() {
              //STUFF HERE
            }
          }


          function invalid() {
              var invalidText = "You can't do that. Try again."
              alert(invalidText);
          }
      }

      game();
    </script>
  </body>
</html>
